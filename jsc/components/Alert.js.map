{"version":3,"sources":["../../js/components/Alert.jsx"],"names":["define","createReactClass","PropTypes","Alert","propTypes","error","any","onDismiss","func","componentWillReceiveProps","nextProps","props","console","renderMessage","info","_","isString","statusText","i18n","isArray","length","map","i","renderType","type","handleDismissClick","e","render"],"mappings":"AAAAA,OAAO,CACH,oBADG,CACmB,YADnB,CAAP,CAEG,SAASC,gBAAT,CAA2BC,SAA3B,CAAsC,CACrC,aAEA,GAAMC,OAAQF,iBAAiB,qBAC3BG,UAAW,CACPC,MAAOH,UAAUI,GADV,CAEPC,UAAWL,UAAUM,IAFd,CADgB,CAM3BC,yBAN2B,oCAMDC,SANC,CAMU,CACjC,GAAIA,UAAUL,KAAV,EAAmBK,UAAUL,KAAV,GAAoB,KAAKM,KAAL,CAAWN,KAAtD,CAA6D,CACzDO,QAAQP,KAAR,CAAcK,UAAUL,KAAxB,EACH,CACJ,CAV0B,CAY3BQ,aAZ2B,yBAYX,IACJR,MADI,CACM,KAAKM,KADX,CACJN,KADI,CAGZ,GAAIS,KAAJ,CACA,GAAIC,EAAEC,QAAF,CAAWX,KAAX,CAAJ,CAAuB,CACnBS,KAAOT,KAAP,CACH,CAFD,IAEO,IAAIA,MAAMY,UAAV,CAAsB,CACzBH,KAAOT,MAAMY,UAAb,CACH,CAFM,IAEA,CACHH,KAAOI,KAAK,oBAAL,CAAP,CACH,CAED,GAAIH,EAAEI,OAAF,CAAUL,IAAV,GAAmBA,KAAKM,MAAL,CAAc,CAArC,CAAwC,CACpC,MACI,+BACKN,KAAKO,GAAL,CAAS,SAACC,CAAD,CAAM,CACZ,MAAQ,+BAAKA,CAAL,CAAR,CACH,CAFA,CADL,CADJ,CAOH,CARD,IAQO,IAAIP,EAAEI,OAAF,CAAUL,IAAV,CAAJ,CAAqB,CACxB,MAAQ,gCAAMA,KAAK,CAAL,CAAN,CAAR,CACH,CAFM,IAEA,CACH,MAAQ,gCAAMA,IAAN,CAAR,CACH,CACJ,CArC0B,CAuC3BS,UAvC2B,sBAuCd,CACT,GAAI,KAAKZ,KAAL,CAAWN,KAAX,CAAiBmB,IAArB,CAA2B,CACvB,MAAQ,mCAAS,KAAKb,KAAL,CAAWN,KAAX,CAAiBmB,IAA1B,CAAR,CACH,CACD,MAAO,KAAP,CACH,CA5C0B,CA8C3BC,kBA9C2B,6BA8CRC,CA9CQ,CA8CL,CAClB,GAAI,KAAKf,KAAL,CAAWJ,SAAf,CAA0B,CACtB,KAAKI,KAAL,CAAWJ,SAAX,CAAqBmB,CAArB,EACH,CACJ,CAlD0B,CAoD3BC,MApD2B,kBAoDlB,CACL,GAAI,CAAC,KAAKhB,KAAL,CAAWN,KAAhB,CAAuB,CACnB,MAAO,KAAP,CACH,CAED,MACI,4BAAK,UAAU,mBAAf,EACK,KAAKM,KAAL,CAAWJ,SAAX,CACG,8BAAQ,KAAK,QAAb,CAAsB,UAAU,OAAhC,CAAwC,QAAS,KAAKkB,kBAAtD,SADH,CAEG,IAHR,CAIK,KAAKF,UAAL,EAJL,CAKK,KAAKV,aAAL,EALL,CADJ,CASH,CAlE0B,CAAjB,CAAd,CAqEA,MAAOV,MAAP,CACH,CA3ED","file":"Alert.js","sourcesContent":["define([\n    'create-react-class', 'prop-types'\n], function(createReactClass, PropTypes) {\n    'use strict';\n\n    const Alert = createReactClass({\n        propTypes: {\n            error: PropTypes.any,\n            onDismiss: PropTypes.func\n        },\n\n        componentWillReceiveProps(nextProps) {\n            if (nextProps.error && nextProps.error !== this.props.error) {\n                console.error(nextProps.error);\n            }\n        },\n\n        renderMessage() {\n            const { error } = this.props;\n\n            var info;\n            if (_.isString(error)) {\n                info = error;\n            } else if (error.statusText) {\n                info = error.statusText;\n            } else {\n                info = i18n('admin.plugin.error');\n            }\n\n            if (_.isArray(info) && info.length > 1) {\n                return (\n                    <ul>\n                        {info.map((i)=> {\n                            return (<li>{i}</li>);\n                        })}\n                    </ul>\n                )\n            } else if (_.isArray(info)) {\n                return (<div>{info[0]}</div>);\n            } else {\n                return (<div>{info}</div>);\n            }\n        },\n\n        renderType() {\n            if (this.props.error.type) {\n                return (<strong>{this.props.error.type}</strong>);\n            }\n            return null;\n        },\n\n        handleDismissClick(e) {\n            if (this.props.onDismiss) {\n                this.props.onDismiss(e);\n            }\n        },\n\n        render() {\n            if (!this.props.error) {\n                return null;\n            }\n\n            return (\n                <div className=\"alert alert-error\">\n                    {this.props.onDismiss ? (\n                        <button type=\"button\" className=\"close\" onClick={this.handleDismissClick}>&times;</button>\n                    ) : null}\n                    {this.renderType()}\n                    {this.renderMessage()}\n                </div>\n            );\n        }\n    });\n\n    return Alert;\n});\n"]}