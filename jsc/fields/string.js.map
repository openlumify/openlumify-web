{"version":3,"sources":["../../js/fields/string.js"],"names":["define","defineComponent","template","F","withPropertyField","StringField","after","$node","html","_","extend","attr","textarea","property","displayType","isValid","value","name","title","isString","length","vertex","singlePropValid","setValue","isObject","JSON","stringify","select","val","getValue","trim"],"mappings":"AACAA,OAAO,CACH,sBADG,CAEH,iBAFG,CAGH,wBAHG,CAIH,qBAJG,CAAP,CAKG,SAASC,eAAT,CAA0BC,QAA1B,CAAoCC,CAApC,CAAuCC,iBAAvC,CAA0D,CACzD,aAEA,MAAOH,iBAAgBI,WAAhB,CAA6BD,iBAA7B,CAAP,CAEA,QAASC,YAAT,EAAuB,CAEnB,KAAKC,KAAL,CAAW,YAAX,CAAyB,UAAW,CAChC,KAAKC,KAAL,CAAWC,IAAX,CAAgBN,SAASO,EAAEC,MAAF,CAAS,EAAT,CAAa,KAAKC,IAAlB,CAAwB,CAC7CC,SAAU,KAAKD,IAAL,CAAUE,QAAV,CAAmBC,WAAnB,GAAmC,UAAnC,EAAiD,KAAKH,IAAL,CAAUE,QAAV,CAAmBC,WAAnB,GAAmC,UADjD,CAAxB,CAAT,CAAhB,EAGH,CAJD,EAMA,KAAKC,OAAL,CAAe,SAASC,KAAT,CAAgB,CAC3B,GAAIC,MAAO,KAAKN,IAAL,CAAUE,QAAV,CAAmBK,KAA9B,CAEA,MAAOT,GAAEU,QAAF,CAAWH,KAAX,GACHA,MAAMI,MAAN,CAAe,CADZ,EAEHjB,EAAEkB,MAAF,CAASC,eAAT,CAAyBN,KAAzB,CAAgCC,IAAhC,CAFJ,CAGH,CAND,CAQA,KAAKM,QAAL,CAAgB,SAASP,KAAT,CAAgB,CAC5B,GAAIP,EAAEe,QAAF,CAAWR,KAAX,CAAJ,CAAuB,CACnBA,MAAQS,KAAKC,SAAL,CAAeV,KAAf,CAAR,CACH,CAED,KAAKW,MAAL,CAAY,eAAZ,EAA6BC,GAA7B,CAAiCZ,KAAjC,EACH,CAND,CAQA,KAAKa,QAAL,CAAgB,UAAW,CACvB,GAAIb,OAAQ,KAAKW,MAAL,CAAY,eAAZ,EAA6BC,GAA7B,EAAZ,CAEA,GAAInB,EAAEe,QAAF,CAAWR,KAAX,CAAJ,CAAuB,CACnBA,MAAQS,KAAKC,SAAL,CAAeV,KAAf,CAAR,CACH,CAED,MAAOA,OAAMc,IAAN,EAAP,CACH,CARD,CASH,CACJ,CA5CD","file":"string.js","sourcesContent":["\ndefine([\n    'flight/lib/component',\n    './stringTpl.hbs',\n    'util/vertex/formatters',\n    './withPropertyField'\n], function(defineComponent, template, F, withPropertyField) {\n    'use strict';\n\n    return defineComponent(StringField, withPropertyField);\n\n    function StringField() {\n\n        this.after('initialize', function() {\n            this.$node.html(template(_.extend({}, this.attr, {\n                textarea: this.attr.property.displayType === 'textarea' || this.attr.property.displayType === 'longText'\n            })));\n        });\n\n        this.isValid = function(value) {\n            var name = this.attr.property.title;\n\n            return _.isString(value) &&\n                value.length > 0 &&\n                F.vertex.singlePropValid(value, name);\n        };\n\n        this.setValue = function(value) {\n            if (_.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n\n            this.select('inputSelector').val(value);\n        };\n\n        this.getValue = function() {\n            let value = this.select('inputSelector').val();\n\n            if (_.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n\n            return value.trim();\n        };\n    }\n});\n"]}