{"version":3,"sources":["../../js/fields/restrictValues.js"],"names":["define","defineComponent","withPropertyField","template","RestrictValuesField","after","val","attr","value","propertyPossibleValues","property","possibleValues","_","map","Object","keys","key","i","display","selected","String","$node","html","displayName","values","placeholderKey","setValue","select","getValue","isValid","length"],"mappings":"AAAAA,OAAO,CACH,sBADG,CAEH,qBAFG,CAGH,yBAHG,CAAP,CAIG,SAASC,eAAT,CAA0BC,iBAA1B,CAA6CC,QAA7C,CAAuD,CACtD,aAEA,MAAOF,iBAAgBG,mBAAhB,CAAqCF,iBAArC,CAAP,CAEA,QAASE,oBAAT,EAA+B,CAE3B,KAAKC,KAAL,CAAW,YAAX,CAAyB,UAAW,CAChC,GAAIC,KAAM,KAAKC,IAAL,CAAUC,KAApB,CAEA,GAAIC,wBAAyB,KAAKF,IAAL,CAAUG,QAAV,CAAmBC,cAAhD,CACIA,eAAiBC,EAAEC,GAAF,CAAMC,OAAOC,IAAP,CAAYN,sBAAZ,CAAN,CAA2C,SAASO,GAAT,CAAcC,CAAd,CAAiB,CACzE,MAAO,CACHA,EAAGA,CADA,CAEHT,MAAOQ,GAFJ,CAGHE,QAAST,uBAAuBO,GAAvB,CAHN,CAIHG,SAAUH,MAAQI,OAAOd,GAAP,CAJf,CAAP,CAMH,CAPgB,CADrB,CAUA,KAAKe,KAAL,CAAWC,IAAX,CAAgBnB,SAAS,CACrBoB,YAAa,KAAKhB,IAAL,CAAUG,QAAV,CAAmBa,WADX,CAErBC,OAAQb,cAFa,CAGrBc,eAAgB,KAAKlB,IAAL,CAAUkB,cAAV,EAA4B,wCAHvB,CAAT,CAAhB,EAKH,CAlBD,EAoBA,KAAKC,QAAL,CAAgB,SAASlB,KAAT,CAAgB,CAC5B,KAAKmB,MAAL,CAAY,eAAZ,EAA6BrB,GAA7B,CAAiCE,KAAjC,EACH,CAFD,CAIA,KAAKoB,QAAL,CAAgB,UAAW,CACvB,MAAO,MAAKD,MAAL,CAAY,eAAZ,EAA6BrB,GAA7B,EAAP,CACH,CAFD,CAIA,KAAKuB,OAAL,CAAe,SAASrB,KAAT,CAAgB,CAC3B,MAAOA,OAAMsB,MAAb,CACH,CAFD,CAIH,CACJ,CA5CD","file":"restrictValues.js","sourcesContent":["define([\n    'flight/lib/component',\n    './withPropertyField',\n    './restrictValuesTpl.hbs'\n], function(defineComponent, withPropertyField, template) {\n    'use strict';\n\n    return defineComponent(RestrictValuesField, withPropertyField);\n\n    function RestrictValuesField() {\n\n        this.after('initialize', function() {\n            var val = this.attr.value;\n\n            var propertyPossibleValues = this.attr.property.possibleValues,\n                possibleValues = _.map(Object.keys(propertyPossibleValues), function(key, i) {\n                    return {\n                        i: i,\n                        value: key,\n                        display: propertyPossibleValues[key],\n                        selected: key === String(val)\n                    }\n                });\n\n            this.$node.html(template({\n                displayName: this.attr.property.displayName,\n                values: possibleValues,\n                placeholderKey: this.attr.placeholderKey || 'field.restrict_values.form.placeholder'\n            }));\n        });\n\n        this.setValue = function(value) {\n            this.select('inputSelector').val(value);\n        };\n\n        this.getValue = function() {\n            return this.select('inputSelector').val();\n        };\n\n        this.isValid = function(value) {\n            return value.length;\n        };\n\n    }\n});\n"]}