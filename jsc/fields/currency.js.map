{"version":3,"sources":["../../js/fields/currency.js"],"names":["define","defineComponent","template","P","F","withHistogram","withPropertyField","CurrencyField","makeNumber","v","number","parseFloat","after","$node","html","attr","setValue","value","select","val","getValue","trim","isValid","name","property","title","_","isNumber","isNaN","vertex","singlePropValid"],"mappings":"AACAA,OAAO,CACH,sBADG,CAEH,mBAFG,CAGH,cAHG,CAIH,wBAJG,CAKH,iBALG,CAMH,qBANG,CAAP,CAOG,SAASC,eAAT,CAA0BC,QAA1B,CAAoCC,CAApC,CAAuCC,CAAvC,CAA0CC,aAA1C,CAAyDC,iBAAzD,CAA4E,CAC3E,aAEA,MAAOL,iBAAgBM,aAAhB,CAA+BD,iBAA/B,CAAkDD,aAAlD,CAAP,CAEA,QAASG,WAAT,CAAoBC,CAApB,CAAuB,CACnB,MAAON,GAAEO,MAAF,CAASC,UAAT,CAAoBF,CAApB,CAAP,CACH,CAED,QAASF,cAAT,EAAyB,CAErB,KAAKK,KAAL,CAAW,YAAX,CAAyB,UAAW,CAChC,KAAKC,KAAL,CAAWC,IAAX,CAAgBZ,SAAS,KAAKa,IAAd,CAAhB,EACH,CAFD,EAIA,KAAKC,QAAL,CAAgB,SAASC,KAAT,CAAgB,CAC5B,KAAKC,MAAL,CAAY,eAAZ,EAA6BC,GAA7B,CAAiCF,KAAjC,EACH,CAFD,CAIA,KAAKG,QAAL,CAAgB,UAAW,CACvB,MAAOZ,YAAW,KAAKU,MAAL,CAAY,eAAZ,EAA6BC,GAA7B,GAAmCE,IAAnC,EAAX,CAAP,CACH,CAFD,CAIA,KAAKC,OAAL,CAAe,SAASL,KAAT,CAAgB,CAC3B,GAAIM,MAAO,KAAKR,IAAL,CAAUS,QAAV,CAAmBC,KAA9B,CACA,MAAOC,GAAEC,QAAF,CAAWV,KAAX,GAAqB,CAACW,MAAMX,KAAN,CAAtB,EAAsCb,EAAEyB,MAAF,CAASC,eAAT,CAAyBb,KAAzB,CAAgCM,IAAhC,CAA7C,CACH,CAHD,CAIH,CACJ,CAnCD","file":"currency.js","sourcesContent":["\ndefine([\n    'flight/lib/component',\n    './currencyTpl.hbs',\n    'util/parsers',\n    'util/vertex/formatters',\n    './withHistogram',\n    './withPropertyField'\n], function(defineComponent, template, P, F, withHistogram, withPropertyField) {\n    'use strict';\n\n    return defineComponent(CurrencyField, withPropertyField, withHistogram);\n\n    function makeNumber(v) {\n        return P.number.parseFloat(v);\n    }\n\n    function CurrencyField() {\n\n        this.after('initialize', function() {\n            this.$node.html(template(this.attr));\n        });\n\n        this.setValue = function(value) {\n            this.select('inputSelector').val(value);\n        };\n\n        this.getValue = function() {\n            return makeNumber(this.select('inputSelector').val().trim());\n        };\n\n        this.isValid = function(value) {\n            var name = this.attr.property.title;\n            return _.isNumber(value) && !isNaN(value) && F.vertex.singlePropValid(value, name);\n        };\n    }\n});\n"]}