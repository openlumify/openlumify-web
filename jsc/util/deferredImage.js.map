{"version":3,"sources":["../../js/util/deferredImage.js"],"names":["define","imageCache","deferredImage","url","cached","downloadImage","i","Image","async","$","Deferred","onload","resolve","onerror","reject","src"],"mappings":"AAAAA,OAAO,EAAP,CAAW,UAAW,CAClB,aAEA,GAAIC,YAAa,EAAjB,CAEA,MAAOC,cAAP,CAEA,QAASA,cAAT,CAAuBC,GAAvB,CAA4B,CACxB,GAAIC,QAASH,WAAWE,GAAX,CAAb,CAEA,GAAI,CAACC,MAAL,CAAa,CACTA,OAASH,WAAWE,GAAX,EAAkBE,cAAcF,GAAd,CAA3B,CACH,CAED,MAAOC,OAAP,CACH,CAED,QAASC,cAAT,CAAuBF,GAAvB,CAA4B,CACxB,GAAIG,GAAI,GAAIC,MAAJ,EAAR,CACIC,MAAQC,EAAEC,QAAF,EADZ,CAGAJ,EAAEK,MAAF,CAAW,UAAW,CAClBH,MAAMI,OAAN,CAAcN,CAAd,EACH,CAFD,CAGAA,EAAEO,OAAF,CAAY,UAAW,CACnBL,MAAMM,MAAN,GACH,CAFD,CAIAR,EAAES,GAAF,CAAQZ,GAAR,CAEA,MAAOK,MAAP,CACH,CACJ,CAhCD","file":"deferredImage.js","sourcesContent":["define([], function() {\n    'use strict';\n\n    var imageCache = {};\n\n    return deferredImage;\n\n    function deferredImage(url) {\n        var cached = imageCache[url];\n\n        if (!cached) {\n            cached = imageCache[url] = downloadImage(url);\n        }\n\n        return cached;\n    }\n\n    function downloadImage(url) {\n        var i = new Image(),\n            async = $.Deferred();\n\n        i.onload = function() {\n            async.resolve(i);\n        }\n        i.onerror = function() {\n            async.reject();\n        }\n\n        i.src = url;\n\n        return async;\n    }\n});\n"]}