{"version":3,"sources":["../../../js/util/element/menu.js"],"names":["define","defineComponent","attacher","Menu","after","self","on","document","teardown","$node","append","$menu","find","node","path","params","domElement","attr","element","get","edgeIds","vertexId","collapsedItemId","position","attach","_","defer","$","off","before"],"mappings":"AAAAA,OAAO,CACH,sBADG,CAEH,yBAFG,CAAP,CAGG,SAASC,eAAT,CAA0BC,QAA1B,CAAoC,CACnC,aAEA,MAAOD,iBAAgBE,IAAhB,CAAP,CAEA,QAASA,KAAT,EAAgB,CAEZ,KAAKC,KAAL,CAAW,YAAX,CAAyB,UAAW,CAChC,GAAIC,MAAO,IAAX,CAEA,KAAKC,EAAL,CAAQC,QAAR,CAAkB,iBAAlB,CAAqC,KAAKC,QAA1C,EAEA,KAAKC,KAAL,CAAWC,MAAX,CAAkB,yCAAlB,EACA,KAAKC,KAAL,CAAa,KAAKF,KAAL,CAAWG,IAAX,CAAgB,sBAAhB,CAAb,CAEA,KAAKV,QAAL,CAAgBA,WACXW,IADW,CACN,KAAKF,KADC,EAEXG,IAFW,CAEN,+BAFM,EAGXC,MAHW,CAGJ,CACJC,WAAY,KAAKC,IAAL,CAAUC,OAAV,EAAqB,KAAKP,KAAL,CAAWQ,GAAX,CAAe,CAAf,CAD7B,CAEJC,QAAS,KAAKH,IAAL,CAAUG,OAFf,CAGJC,SAAU,KAAKJ,IAAL,CAAUI,QAHhB,CAIJC,gBAAiB,KAAKL,IAAL,CAAUK,eAJvB,CAKJC,SAAU,KAAKN,IAAL,CAAUM,QALhB,CAHI,CAAhB,CAWI,KAAKrB,QAAL,CAAcsB,MAAd,GAEJC,EAAEC,KAAF,CAAQ,UAAW,CACfC,EAAEpB,QAAF,EAAYqB,GAAZ,CAAgB,aAAhB,EAA+BtB,EAA/B,CAAkC,kBAAlC,CAAsD,UAAW,CAC7DqB,EAAEpB,QAAF,EAAYqB,GAAZ,CAAgB,aAAhB,EACAH,EAAEC,KAAF,CAAQ,UAAW,CACfrB,KAAKG,QAAL,GACH,CAFD,EAGH,CALD,EAMH,CAPD,EAQH,CA7BD,EA+BA,KAAKqB,MAAL,CAAY,UAAZ,CAAwB,UAAW,CAC/B,KAAK3B,QAAL,CAAcW,IAAd,CAAmB,KAAKF,KAAxB,EAA+BH,QAA/B,GACH,CAFD,EAIA,KAAKJ,KAAL,CAAW,UAAX,CAAuB,UAAW,CAC9BuB,EAAEpB,QAAF,EAAYqB,GAAZ,CAAgB,aAAhB,EACH,CAFD,EAIH,CACJ,CAlDD","file":"menu.js","sourcesContent":["define([\n    'flight/lib/component',\n    'util/component/attacher'\n], function(defineComponent, attacher) {\n    'use strict';\n\n    return defineComponent(Menu);\n\n    function Menu() {\n\n        this.after('initialize', function() {\n            var self = this;\n\n            this.on(document, 'closeVertexMenu', this.teardown);\n\n            this.$node.append('<div class=\"vertex-menu-wrapper\"></div>');\n            this.$menu = this.$node.find('.vertex-menu-wrapper');\n\n            this.attacher = attacher()\n                .node(this.$menu)\n                .path('components/ElementContextMenu')\n                .params({\n                    domElement: this.attr.element || this.$menu.get(0),\n                    edgeIds: this.attr.edgeIds,\n                    vertexId: this.attr.vertexId,\n                    collapsedItemId: this.attr.collapsedItemId,\n                    position: this.attr.position\n                });\n\n                this.attacher.attach();\n\n            _.defer(function() {\n                $(document).off('.vertexMenu').on('click.vertexMenu', function() {\n                    $(document).off('.vertexMenu');\n                    _.defer(function() {\n                        self.teardown();\n                    })\n                });\n            });\n        });\n\n        this.before('teardown', function() {\n            this.attacher.node(this.$menu).teardown();\n        });\n\n        this.after('teardown', function() {\n            $(document).off('.vertexMenu');\n        });\n\n    }\n});\n"]}