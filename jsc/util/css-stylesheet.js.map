{"version":3,"sources":["../../js/util/css-stylesheet.js"],"names":["define","Sheet","style","document","createElement","appendChild","createTextNode","head","sheet","index","addRule","selector","definition","Error","insertRule","remove","parentNode","removeChild","defaultSheet","addSheet"],"mappings":"AACAA,OAAO,EAAP,CAAW,UAAW,CAClB,aAEA,QAASC,MAAT,EAAiB,CACb,GAAIC,OAAQC,SAASC,aAAT,CAAuB,OAAvB,CAAZ,CAEAF,MAAMG,WAAN,CAAkBF,SAASG,cAAT,CAAwB,EAAxB,CAAlB,EACAH,SAASI,IAAT,CAAcF,WAAd,CAA0BH,KAA1B,EAEA,GAAIM,OAAQN,MAAMM,KAAlB,CACIC,MAAQ,CADZ,CAGA,KAAKC,OAAL,CAAe,SAASC,QAAT,CAAmBC,UAAnB,CAA+B,CAC1C,GAAI,CAACJ,KAAL,CAAY,KAAM,IAAIK,MAAJ,CAAU,6BAAV,CAAN,CAEZ,GAAIL,MAAMM,UAAV,CAAsB,CAClBN,MAAMM,UAAN,CAAiBH,SAAW,IAAX,CAAkBC,UAAlB,CAA+B,KAAhD,CAAuDH,OAAvD,EACH,CAFD,IAEO,CACHD,MAAME,OAAN,CAAcC,QAAd,CAAwBC,UAAxB,CAAoCH,OAApC,EACH,CACD,MAAO,KAAP,CACH,CATD,CAWA,KAAKM,MAAL,CAAc,UAAW,CACrB,GAAIb,KAAJ,CAAW,CACPA,MAAMc,UAAN,CAAiBC,WAAjB,CAA6Bf,KAA7B,EACAA,MAAQ,IAAR,CACAM,MAAQ,IAAR,CACH,CACJ,CAND,CAOH,CAED,GAAIU,aAAJ,CAEA,MAAO,CACHR,QAAS,iBAASC,QAAT,CAAmBC,UAAnB,CAA+B,CACpC,GAAI,CAACM,YAAL,CAAmB,CACfA,aAAe,GAAIjB,MAAJ,EAAf,CACH,CACDiB,aAAaR,OAAb,CAAqBC,QAArB,CAA+BC,UAA/B,EACH,CANE,CAQHO,SAAU,mBAAW,CACjB,MAAO,IAAIlB,MAAJ,EAAP,CACH,CAVE,CAAP,CAYH,CA9CD","file":"css-stylesheet.js","sourcesContent":["\ndefine([], function() {\n    'use strict';\n\n    function Sheet() {\n        var style = document.createElement('style');\n        // WebKit hack :(\n        style.appendChild(document.createTextNode(''));\n        document.head.appendChild(style);\n\n        var sheet = style.sheet,\n            index = 0;\n\n        this.addRule = function(selector, definition) {\n            if (!sheet) throw new Error('No stylesheet found in page');\n\n            if (sheet.insertRule) {\n                sheet.insertRule(selector + ' {' + definition + '; }', index++);\n            } else {\n                sheet.addRule(selector, definition, index++);\n            }\n            return this;\n        };\n\n        this.remove = function() {\n            if (style) {\n                style.parentNode.removeChild(style);\n                style = null;\n                sheet = null;\n            }\n        }\n    }\n\n    var defaultSheet;\n\n    return {\n        addRule: function(selector, definition) {\n            if (!defaultSheet) {\n                defaultSheet = new Sheet();\n            }\n            defaultSheet.addRule(selector, definition);\n        },\n\n        addSheet: function() {\n            return new Sheet();\n        }\n    };\n});\n"]}