{"version":3,"sources":["../../../../../js/data/web-worker/store/user/reducer.js"],"names":["define","u","user","state","type","payload","current","put","uiPreferences","preferences","name","value","privileges","userWithPrivHelper","sort","privilegesHelper","_","indexBy"],"mappings":"sZAAAA,OAAO,CAAC,QAAD,CAAP,CAAmB,SAASC,CAAT,CAAY,CAC3B,aAEA,MAAO,SAASC,KAAT,CAAcC,KAAd,MAAwC,IAAjBC,KAAiB,MAAjBA,IAAiB,CAAXC,OAAW,MAAXA,OAAW,CAC3C,GAAI,CAACF,KAAL,CAAY,MAAO,CAAEG,QAAS,IAAX,CAAP,CAEZ,OAAQF,IAAR,EACI,IAAK,UAAL,CAAiB,MAAOG,KAAIJ,KAAJ,CAAWE,QAAQH,IAAnB,CAAP,CACjB,IAAK,gBAAL,CACI,MAAOD,GAAE,CAAEK,QAAS,CAAEE,cAAeH,QAAQI,WAAzB,CAAX,CAAF,CAAsDN,KAAtD,CAAP,CACJ,IAAK,eAAL,CACI,MAAOF,GAAE,CAAEK,QAAS,CAAEE,iCAAkBH,QAAQK,IAA1B,IAAoCL,QAAQM,KAA5C,CAAF,CAAX,CAAF,CAAwER,KAAxE,CAAP,CALR,CAQA,MAAOA,MAAP,CACH,CAZD,CAcA,QAASI,IAAT,CAAaJ,KAAb,CAAoBD,IAApB,CAA0B,sBACMA,IADN,CACdU,UADc,CACdA,UADc,8BACD,EADC,kBAEtB,GAAMC,gCACCX,IADD,EAEFU,WAAYA,WAAWE,IAAX,EAFV,CAGFC,iBAAkBC,EAAEC,OAAF,CAAUL,UAAV,CAHhB,EAAN,CAKA,MAAOX,GAAE,CAAEK,QAASO,kBAAX,CAAF,CAAmCV,KAAnC,CAAP,CACH,CACJ,CA1BD","file":"reducer.js","sourcesContent":["define(['updeep'], function(u) {\n    'use strict';\n\n    return function user(state, { type, payload }) {\n        if (!state) return { current: null };\n\n        switch (type) {\n            case 'USER_PUT': return put(state, payload.user)\n            case 'USER_PUT_PREFS':\n                return u({ current: { uiPreferences: payload.preferences }}, state);\n            case 'USER_PUT_PREF':\n                return u({ current: { uiPreferences: { [payload.name]: `${payload.value}` }}}, state);\n        }\n\n        return state\n    }\n\n    function put(state, user) {\n        const { privileges = [] } = user;\n        const userWithPrivHelper = {\n            ...user,\n            privileges: privileges.sort(),\n            privilegesHelper: _.indexBy(privileges)\n        };\n        return u({ current: userWithPrivHelper }, state);\n    }\n})\n\n\n"]}