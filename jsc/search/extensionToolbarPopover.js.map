{"version":3,"sources":["../../js/search/extensionToolbarPopover.js"],"names":["define","defineComponent","withPopover","SearchToolbarExtensionPopover","defaultAttrs","Component","extension","model","before","popover","find","teardownAllComponents","node","config","template","after","attr","attachTo","_","extend","element","$node","closest","get","positionDialog"],"mappings":"AAAAA,OAAO,CACH,sBADG,CAEH,2BAFG,CAAP,CAGG,SACCC,eADD,CAECC,WAFD,CAEc,CACb,aAEA,MAAOD,iBAAgBE,6BAAhB,CAA+CD,WAA/C,CAAP,CAEA,QAASC,8BAAT,EAAyC,CAErC,KAAKC,YAAL,CAAkB,CACdC,UAAW,IADG,CAEdC,UAAW,IAFG,CAGdC,MAAO,IAHO,CAAlB,EAMA,KAAKC,MAAL,CAAY,UAAZ,CAAwB,UAAW,CAC/B,KAAKC,OAAL,CAAaC,IAAb,CAAkB,kBAAlB,EAAsCC,qBAAtC,GACH,CAFD,EAIA,KAAKH,MAAL,CAAY,YAAZ,CAA0B,SAASI,IAAT,CAAeC,MAAf,CAAuB,CAC7CA,OAAOC,QAAP,CAAkB,wCAAlB,CACA,KAAKC,KAAL,CAAW,mBAAX,CAAgC,UAAW,CAavC,KAAKC,IAAL,CAAUX,SAAV,CAAoBY,QAApB,CAA6B,KAAKR,OAAL,CAAaC,IAAb,CAAkB,kBAAlB,CAA7B,CAAoE,CAChEH,MAAOW,EAAEC,MAAF,CAAS,EAAT,CAAa,KAAKH,IAAL,CAAUT,KAAvB,CAA8B,CACjCD,UAAW,KAAKU,IAAL,CAAUV,SADY,CAEjCc,QAAS,KAAKC,KAAL,CAAWC,OAAX,CAAmB,cAAnB,EAAmCC,GAAnC,CAAuC,CAAvC,CAFwB,CAA9B,CADyD,CAApE,EAMA,KAAKC,cAAL,GACH,CApBD,EAqBH,CAvBD,EAyBH,CACJ,CAhDD","file":"extensionToolbarPopover.js","sourcesContent":["define([\n    'flight/lib/component',\n    'util/popovers/withPopover'\n], function(\n    defineComponent,\n    withPopover) {\n    'use strict';\n\n    return defineComponent(SearchToolbarExtensionPopover, withPopover);\n\n    function SearchToolbarExtensionPopover() {\n\n        this.defaultAttrs({\n            Component: null,\n            extension: null,\n            model: null\n        })\n\n        this.before('teardown', function() {\n            this.popover.find('.popover-content').teardownAllComponents();\n        })\n\n        this.before('initialize', function(node, config) {\n            config.template = '/search/extensionToolbarPopoverTpl.hbs';\n            this.after('setupWithTemplate', function() {\n                /**\n                 * Flight component to render in the popover\n                 * created when clicking a search toolbar item.\n                 *\n                 * @typedef org.openlumify.search.toolbar~Component\n                 * @property {object} model\n                 * @property {object} model.search Current search object or\n                 * null\n                 * @property {object} model.extension The toolbar extension\n                 * @property {Element} model.element The toolbar extension\n                 * element\n                 */\n                this.attr.Component.attachTo(this.popover.find('.popover-content'), {\n                    model: _.extend({}, this.attr.model, {\n                        extension: this.attr.extension,\n                        element: this.$node.closest('.search-pane').get(0)\n                    })\n                });\n                this.positionDialog();\n            });\n        });\n\n    }\n});\n"]}