{"version":3,"sources":["../../../js/menubar/activity/activity.js"],"names":["define","defineComponent","F","Activity","activitiesCount","activities","after","on","document","onActivityUpdated","event","data","count","$badge","$node","find","length","$","addClass","appendTo","toggle","text","number","pretty","toggleClass"],"mappings":"AACAA,OAAO,CACH,sBADG,CAEH,iBAFG,CAAP,CAGG,SAASC,eAAT,CAA0BC,CAA1B,CAA6B,CAC5B,aAEA,MAAOD,iBAAgBE,QAAhB,CAAP,CAEA,QAASA,SAAT,EAAoB,CAChB,KAAKC,eAAL,CAAuB,CAAvB,CACA,KAAKC,UAAL,CAAkB,EAAlB,CAEA,KAAKC,KAAL,CAAW,YAAX,CAAyB,UAAW,CAChC,KAAKC,EAAL,CAAQC,QAAR,CAAkB,iBAAlB,CAAqC,KAAKC,iBAA1C,EACH,CAFD,EAIA,KAAKA,iBAAL,CAAyB,SAASC,KAAT,CAAgBC,IAAhB,CAAsB,CAC3C,GAAIC,OAAQD,KAAKC,KAAjB,CACIC,OAAS,KAAKC,KAAL,CAAWC,IAAX,CAAgB,gBAAhB,CADb,CAGA,GAAIF,OAAOG,MAAP,GAAkB,CAAlB,EAAuBJ,QAAU,CAArC,CAAwC,CACpC,OACH,CAFD,IAEO,IAAIC,OAAOG,MAAP,GAAkB,CAAtB,CAAyB,CAC5BH,OAASI,EAAE,OAAF,EACJC,QADI,CACK,eADL,EAEJC,QAFI,CAEK,KAAKL,KAFV,CAAT,CAGH,CAEDD,OACKO,MADL,CACYR,MAAQ,CADpB,EAEKS,IAFL,CAEUnB,EAAEoB,MAAF,CAASC,MAAT,CAAgBX,KAAhB,CAFV,EAIA,KAAKE,KAAL,CAAWU,WAAX,CAAuB,WAAvB,CAAoCZ,MAAQ,CAA5C,EACH,CAjBD,CAmBH,CAEJ,CArCD","file":"activity.js","sourcesContent":["\ndefine([\n    'flight/lib/component',\n    'util/formatters'\n], function(defineComponent, F) {\n    'use strict';\n\n    return defineComponent(Activity);\n\n    function Activity() {\n        this.activitiesCount = 0;\n        this.activities = { };\n\n        this.after('initialize', function() {\n            this.on(document, 'activityUpdated', this.onActivityUpdated);\n        });\n\n        this.onActivityUpdated = function(event, data) {\n            var count = data.count,\n                $badge = this.$node.find('.activityCount');\n\n            if ($badge.length === 0 && count === 0) {\n                return;\n            } else if ($badge.length === 0) {\n                $badge = $('<div>')\n                    .addClass('activityCount')\n                    .appendTo(this.$node);\n            }\n\n            $badge\n                .toggle(count > 0)\n                .text(F.number.pretty(count));\n\n            this.$node.toggleClass('animating', count > 0);\n        };\n\n    }\n\n});\n"]}