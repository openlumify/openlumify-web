{"version":3,"sources":["../../js/dashboard/extensionToolbarPopover.js"],"names":["define","defineComponent","withPopover","ToolbarExtensionPopover","defaultAttrs","Component","item","extension","before","$node","closest","removeClass","popover","find","teardownAllComponents","node","config","template","after","addClass","$element","attr","attachTo","model","element","length","get","positionDialog"],"mappings":"AAAAA,OAAO,CACH,sBADG,CAEH,2BAFG,CAAP,CAGG,SACCC,eADD,CAECC,WAFD,CAEc,CACb,aAEA,MAAOD,iBAAgBE,uBAAhB,CAAyCD,WAAzC,CAAP,CAEA,QAASC,wBAAT,EAAmC,CAE/B,KAAKC,YAAL,CAAkB,CACdC,UAAW,IADG,CAEdC,KAAM,IAFQ,CAGdC,UAAW,IAHG,CAAlB,EAMA,KAAKC,MAAL,CAAY,UAAZ,CAAwB,UAAW,CAC/B,KAAKC,KAAL,CAAWC,OAAX,CAAmB,eAAnB,EAAoCC,WAApC,CAAgD,QAAhD,EACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,kBAAlB,EAAsCC,qBAAtC,GACH,CAHD,EAKA,KAAKN,MAAL,CAAY,YAAZ,CAA0B,SAASO,IAAT,CAAeC,MAAf,CAAuB,CAC7CA,OAAOC,QAAP,CAAkB,2CAAlB,CACA,KAAKC,KAAL,CAAW,mBAAX,CAAgC,UAAW,CACvC,KAAKT,KAAL,CAAWC,OAAX,CAAmB,eAAnB,EAAoCS,QAApC,CAA6C,QAA7C,EACA,GAAIC,UAAW,KAAKX,KAAL,CAAWC,OAAX,CAAmB,kBAAnB,CAAf,CACA,KAAKW,IAAL,CAAUhB,SAAV,CAAoBiB,QAApB,CAA6B,KAAKV,OAAL,CAAaC,IAAb,CAAkB,kBAAlB,CAA7B,CAAoE,CAChEU,MAAO,CACHjB,KAAM,KAAKe,IAAL,CAAUf,IADb,CAEHC,UAAW,KAAKc,IAAL,CAAUd,SAFlB,CAGHiB,QAASJ,SAASK,MAAT,CAAkBL,SAASM,GAAT,CAAa,CAAb,CAAlB,CAAoC,KAAKX,IAH/C,CADyD,CAApE,EAOA,KAAKY,cAAL,GACH,CAXD,EAYH,CAdD,EAgBH,CACJ,CAxCD","file":"extensionToolbarPopover.js","sourcesContent":["define([\n    'flight/lib/component',\n    'util/popovers/withPopover'\n], function(\n    defineComponent,\n    withPopover) {\n    'use strict';\n\n    return defineComponent(ToolbarExtensionPopover, withPopover);\n\n    function ToolbarExtensionPopover() {\n\n        this.defaultAttrs({\n            Component: null,\n            item: null,\n            extension: null\n        })\n\n        this.before('teardown', function() {\n            this.$node.closest('.card-toolbar').removeClass('active');\n            this.popover.find('.popover-content').teardownAllComponents();\n        })\n\n        this.before('initialize', function(node, config) {\n            config.template = '/dashboard/extensionToolbarPopoverTpl.hbs';\n            this.after('setupWithTemplate', function() {\n                this.$node.closest('.card-toolbar').addClass('active');\n                var $element = this.$node.closest('.grid-stack-item');\n                this.attr.Component.attachTo(this.popover.find('.popover-content'), {\n                    model: {\n                        item: this.attr.item,\n                        extension: this.attr.extension,\n                        element: $element.length ? $element.get(0) : this.node\n                    }\n                });\n                this.positionDialog();\n            });\n        });\n\n    }\n});\n"]}