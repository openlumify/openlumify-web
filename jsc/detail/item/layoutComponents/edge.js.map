{"version":3,"sources":["../../../../js/detail/item/layoutComponents/edge.js"],"names":["define","F","dataRequest","ontology","conceptDisplay","_","compose","property","vertex","concept","vertexStore","vertexId","vertexIds","vertexDisplayId","then","title","edgeLabelDisplay","edge","relationships","byTitle","label","displayName","outVertexDisplay","inVertexDisplay","outVertexConceptDisplay","outVertexId","isArray","inVertexConceptDisplay","inVertexId","applyTo","type","identifier","layout","options","direction","componentPath","children","ref","style","flex","overflow","className","model","truncate"],"mappings":"AAAAA,OAAO,CACH,wBADG,CAEH,sBAFG,CAGH,qDAHG,CAAP,CAIO,SAASC,CAAT,CAAYC,WAAZ,CAAyBC,QAAzB,CAAmC,CACtC,aAEA,GAAIC,gBAAiBC,EAAEC,OAAF,CAAUD,EAAEE,QAAF,CAAW,aAAX,CAAV,CAAqCN,EAAEO,MAAF,CAASC,OAA9C,CAArB,CACIC,YAAc,QAAdA,YAAc,CAASC,QAAT,CAAmB,CAC7B,MAAOT,aAAYA,WAAZ,CAAwB,QAAxB,CAAkC,OAAlC,CAA2C,CAAEU,UAAWD,QAAb,CAA3C,CAAP,CACH,CAHL,CAIIE,gBAAkB,QAAlBA,gBAAkB,CAASF,QAAT,CAAmB,CACjC,MAAOD,aAAYC,QAAZ,EAAsBG,IAAtB,CAA2Bb,EAAEO,MAAF,CAASO,KAApC,CAAP,CACH,CANL,CAOIC,iBAAmB,QAAnBA,iBAAmB,CAASC,IAAT,CAAe,CAC9B,MAAOd,UAASe,aAAT,CAAuBC,OAAvB,CAA+BF,KAAKG,KAApC,EAA2CC,WAAlD,CACH,CATL,CAUIC,iBAAmBjB,EAAEC,OAAF,CAAUO,eAAV,CAA2BR,EAAEE,QAAF,CAAW,aAAX,CAA3B,CAVvB,CAWIgB,gBAAkBlB,EAAEC,OAAF,CAAUO,eAAV,CAA2BR,EAAEE,QAAF,CAAW,YAAX,CAA3B,CAXtB,CAYIiB,wBAA0B,QAA1BA,wBAA0B,CAASP,IAAT,CAAe,CACrC,MAAOP,aAAYO,KAAKQ,WAAjB,EAA8BX,IAA9B,CAAmC,SAACN,MAAD,QAAYA,SAAU,CAACH,EAAEqB,OAAF,CAAUlB,MAAV,CAAX,CAA+BJ,eAAeI,MAAf,CAA/B,CAAwD,EAApE,EAAnC,CAAP,CACH,CAdL,CAeImB,uBAAyB,QAAzBA,uBAAyB,CAASV,IAAT,CAAe,CACpC,MAAOP,aAAYO,KAAKW,UAAjB,EAA6Bd,IAA7B,CAAkC,SAACN,MAAD,QAAYA,SAAU,CAACH,EAAEqB,OAAF,CAAUlB,MAAV,CAAX,CAA+BJ,eAAeI,MAAf,CAA/B,CAAwD,EAApE,EAAlC,CAAP,CACH,CAjBL,CAmBA,MAAO,CACH,CACIqB,QAAS,CAAEC,KAAM,MAAR,CADb,CAEIC,WAAY,4BAFhB,CAGIC,OAAQ,CAAEF,KAAM,MAAR,CAAgBG,QAAS,CAAEC,UAAW,QAAb,CAAzB,CAHZ,CAIIC,cAAe,kBAJnB,CAKIC,SAAU,CACN,CAAEC,IAAK,8BAAP,CAAuCC,MAAO,CAAEC,KAAM,UAAR,CAA9C,CADM,CAEN,CAAEF,IAAK,4BAAP,CAAqCC,MAAO,CAAEC,KAAM,UAAR,CAAoBC,SAAU,MAA9B,CAA5C,CAFM,CALd,CADG,CAWH,CACIX,QAAS,CAAEC,KAAM,MAAR,CADb,CAEIC,WAAY,mCAFhB,CAGIU,UAAW,cAHf,CAIIL,SAAU,CACN,CAAEC,IAAK,4BAAP,CAAqCC,MAAO,OAA5C,CAAqDG,UAAW,YAAhE,CAA8EC,MAAOpB,gBAArF,CAAuGqB,SAAU,EAAjH,CADM,CAEN,CAAEN,IAAK,4BAAP,CAAqCC,MAAO,UAA5C,CAAwDI,MAAOlB,uBAA/D,CAFM,CAGN,CAAEa,IAAK,4BAAP,CAAqCI,UAAW,YAAhD,CAA8DC,MAAO1B,gBAArE,CAHM,CAIN,CAAEqB,IAAK,4BAAP,CAAqCC,MAAO,OAA5C,CAAqDG,UAAW,WAAhE,CAA6EC,MAAOnB,eAApF,CAAqGoB,SAAU,EAA/G,CAJM,CAKN,CAAEN,IAAK,4BAAP,CAAqCC,MAAO,UAA5C,CAAwDI,MAAOf,sBAA/D,CALM,CAJd,CAXG,CAAP,CAwBH,CAlDD","file":"edge.js","sourcesContent":["define([\n    'util/vertex/formatters',\n    'util/withDataRequest',\n    'util/requirejs/promise!util/service/ontologyPromise'\n    ], function(F, dataRequest, ontology) {\n    'use strict';\n\n    var conceptDisplay = _.compose(_.property('displayName'), F.vertex.concept),\n        vertexStore = function(vertexId) {\n            return dataRequest.dataRequest('vertex', 'store', { vertexIds: vertexId })\n        },\n        vertexDisplayId = function(vertexId) {\n            return vertexStore(vertexId).then(F.vertex.title)\n        },\n        edgeLabelDisplay = function(edge) {\n            return ontology.relationships.byTitle[edge.label].displayName;\n        },\n        outVertexDisplay = _.compose(vertexDisplayId, _.property('outVertexId')),\n        inVertexDisplay = _.compose(vertexDisplayId, _.property('inVertexId')),\n        outVertexConceptDisplay = function(edge) {\n            return vertexStore(edge.outVertexId).then((vertex) => vertex && !_.isArray(vertex) ? conceptDisplay(vertex) : '');\n        },\n        inVertexConceptDisplay = function(edge) {\n            return vertexStore(edge.inVertexId).then((vertex) => vertex && !_.isArray(vertex) ? conceptDisplay(vertex) : '');\n        };\n\n    return [\n        {\n            applyTo: { type: 'edge' },\n            identifier: 'org.openlumify.layout.root',\n            layout: { type: 'flex', options: { direction: 'column' }},\n            componentPath: 'detail/item/edge',\n            children: [\n                { ref: 'org.openlumify.layout.header', style: { flex: '0 0 auto' } },\n                { ref: 'org.openlumify.layout.body', style: { flex: '1 1 auto', overflow: 'auto' } }\n            ]\n        },\n        {\n            applyTo: { type: 'edge' },\n            identifier: 'org.openlumify.layout.header.text',\n            className: 'edge-heading',\n            children: [\n                { ref: 'org.openlumify.layout.text', style: 'title', className: 'vertex-out', model: outVertexDisplay, truncate: 12 },\n                { ref: 'org.openlumify.layout.text', style: 'subtitle', model: outVertexConceptDisplay },\n                { ref: 'org.openlumify.layout.text', className: 'edge-label', model: edgeLabelDisplay },\n                { ref: 'org.openlumify.layout.text', style: 'title', className: 'vertex-in', model: inVertexDisplay, truncate: 12 },\n                { ref: 'org.openlumify.layout.text', style: 'subtitle', model: inVertexConceptDisplay }\n            ]\n        }\n    ];\n});\n"]}