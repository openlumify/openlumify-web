{"version":3,"sources":["../../../../js/detail/item/layoutComponents/generic.js"],"names":["define","F","identifier","render","el","model","config","style","_","isString","cls","Error","classList","add","truncate","text","String","textContent","string","title","applyTo","options","enoughWidth","contains","constraints","comment","findWhere","properties","name","hasRelations","isEmpty","edgeLabels","children","ref","componentPath","className","layout","type","direction","flex","modelAttribute"],"mappings":"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","file":"generic.js","sourcesContent":["define(['util/vertex/formatters'], function(F) {\n    'use strict';\n\n    return [\n        {\n            identifier: 'org.openlumify.layout.text',\n            render: function(el, model, config) {\n                if (config && config.style && _.isString(config.style)) {\n                    var cls = config.style;\n                    switch (config.style) {\n                      case 'title':\n                      case 'subtitle':\n                      case 'heading1':\n                      case 'heading2':\n                      case 'heading3':\n                      case 'body':\n                      case 'footnote':\n                        break;\n                      default:\n                        throw new Error('Unknown config style: ' + config.style)\n                    }\n                    el.classList.add(config.style)\n                }\n\n                if (config.truncate) {\n                    const text = String(model);\n                    el.textContent = F.string.truncate(text, config.truncate);\n                    el.title = text;\n                } else {\n                    el.textContent = String(model);\n                }\n            }\n        },\n        {\n            identifier: 'org.openlumify.layout.body',\n            applyTo: function(model, options) {\n                var enoughWidth = !_.contains(options.constraints, 'width');\n                if (enoughWidth) {\n                    var comment = _.findWhere(model.properties, { name: 'http://openlumify.org/comment#entry' }),\n                        hasRelations = !_.isEmpty(model.edgeLabels);\n                    return comment || hasRelations;\n                }\n                return false;\n            },\n            children: [\n                { ref: 'org.openlumify.layout.body.split' },\n                { componentPath: 'detail/text/text', className: 'org-openlumify-texts' }\n            ]\n        },\n        {\n            identifier: 'org.openlumify.layout.body.split',\n            layout: { type: 'flex', options: { direction: 'row' }},\n            children: [\n                { ref: 'org.openlumify.layout.body.left', style: { flex: 1 }},\n                { ref: 'org.openlumify.layout.body.right', style: { flex: 1 }}\n            ]\n        },\n        {\n            identifier: 'org.openlumify.layout.body.left',\n            children: [\n                { componentPath: 'detail/properties/properties', className: 'org-openlumify-properties', modelAttribute: 'data' }\n            ]\n        },\n        {\n            identifier: 'org.openlumify.layout.body.right',\n            children: [\n                { componentPath: 'comments/comments', className: 'org.openlumify-comments', modelAttribute: 'data' },\n                { componentPath: 'detail/relationships/relationships', className: 'org-openlumify-relationships', modelAttribute: 'data' }\n            ]\n        },\n        {\n            identifier: 'org.openlumify.layout.body',\n            children: [\n                { componentPath: 'detail/properties/properties', className: 'org-openlumify-properties', modelAttribute: 'data' },\n                { componentPath: 'comments/comments', className: 'org.openlumify-comments', modelAttribute: 'data' },\n                { componentPath: 'detail/relationships/relationships', className: 'org-openlumify-relationships', modelAttribute: 'data' },\n                { componentPath: 'detail/text/text', className: 'org-openlumify-texts' }\n            ]\n        },\n        {\n            identifier: 'org.openlumify.layout.header',\n            children: [\n                { ref: 'org.openlumify.layout.header.text' },\n                { componentPath: 'detail/toolbar/toolbar', className: 'org-openlumify-toolbar' }\n            ]\n        }\n    ];\n});\n"]}