{"version":3,"sources":["../../../../js/detail/dropdowns/propertyForm/justification.js"],"names":["define","defineComponent","Attacher","JustificationEditor","Justification","after","attacher","teardown","on","event","value","params","_params","pastedValue","attach","attr","justificationOverride","justificationText","sourceInfo","validationOverride","component","behavior","onJustificationChanged","justification","valid","trigger","node"],"mappings":"gOACAA,OAAO,CACH,sBADG,CAEH,yBAFG,CAGH,8CAHG,CAAP,CAIG,SACCC,eADD,CAECC,QAFD,CAGCC,mBAHD,CAID,CACE,aAEA,MAAOF,iBAAgBG,aAAhB,CAAP,CAEA,QAASA,cAAT,EAAyB,CAErB,KAAKC,KAAL,CAAW,UAAX,CAAuB,UAAW,CAC9B,KAAKC,QAAL,CAAcC,QAAd,GACH,CAFD,EAIA,KAAKF,KAAL,CAAW,YAAX,CAAyB,UAAW,gBAEhC,KAAKG,EAAL,CAAQ,aAAR,CAAuB,SAASC,KAAT,MAAyB,IAARC,MAAQ,MAARA,KAAQ,CAC5C,KAAKJ,QAAL,CAAcK,MAAd,aACO,KAAKL,QAAL,CAAcM,OADrB,EAEIC,YAAaH,KAFjB,IAGGI,MAHH,GAIH,CALD,EAFgC,UAS8C,KAAKC,IATnD,CASxBC,qBATwB,OASxBA,qBATwB,CASDH,WATC,OASDA,WATC,CASYI,iBATZ,OASYA,iBATZ,CAS+BC,UAT/B,OAS+BA,UAT/B,CAUhC,GAAMP,QAAS,EAAf,CAEA,GAAIK,qBAAJ,CAA2B,CACvBL,OAAOQ,kBAAP,CAA4BH,qBAA5B,CACH,CACD,GAAIH,WAAJ,CAAiB,CACbF,OAAOE,WAAP,CAAqBA,WAArB,CACH,CACD,GAAIK,UAAJ,CAAgB,CACZP,OAAOD,KAAP,CAAe,CAAEQ,qBAAF,CAAf,CACH,CAFD,IAEO,IAAID,iBAAJ,CAAuB,CAC1BN,OAAOD,KAAP,CAAe,CAAEO,mCAAF,CAAf,CACH,CAED,KAAKX,QAAL,CAAgBJ,WACXkB,SADW,CACDjB,mBADC,EAEXQ,MAFW,CAEJA,MAFI,EAGXU,QAHW,CAGF,CACNC,uBAAwB,gCAAChB,QAAD,CAAWiB,aAAX,CAA6B,CACjD,GAAMZ,QAASL,SAASM,OAAxB,CADiD,GAEzCY,MAFyC,CAExBD,aAFwB,CAEzCC,KAFyC,CAElCd,KAFkC,CAExBa,aAFwB,CAElCb,KAFkC,CAGjDJ,SAASK,MAAT,aAAqBA,MAArB,EAA6BD,WAA7B,IAAsCI,MAAtC,GACA,MAAKW,OAAL,CAAa,qBAAb,WAAsCD,WAAtC,EAAgDd,KAAhD,GACH,CANK,CAHE,EAWXgB,IAXW,CAWN,KAAKA,IAXC,CAAhB,CAaA,KAAKpB,QAAL,CAAcQ,MAAd,GACH,CAtCD,EAuCH,CACJ,CA3DD","file":"justification.js","sourcesContent":["\ndefine([\n    'flight/lib/component',\n    'util/component/attacher',\n    'components/justification/JustificationEditor'\n], function(\n    defineComponent,\n    Attacher,\n    JustificationEditor\n) {\n    'use strict';\n\n    return defineComponent(Justification);\n\n    function Justification() {\n\n        this.after('teardown', function() {\n            this.attacher.teardown();\n        })\n\n        this.after('initialize', function() {\n\n            this.on('valuepasted', function(event, {value}) {\n                this.attacher.params({\n                    ...this.attacher._params,\n                    pastedValue: value\n                }).attach();\n            });\n\n            const { justificationOverride, pastedValue, justificationText, sourceInfo } = this.attr;\n            const params = {};\n\n            if (justificationOverride) {\n                params.validationOverride = justificationOverride;\n            }\n            if (pastedValue) {\n                params.pastedValue = pastedValue;\n            }\n            if (sourceInfo) {\n                params.value = { sourceInfo }\n            } else if (justificationText) {\n                params.value = { justificationText }\n            }\n\n            this.attacher = Attacher()\n                .component(JustificationEditor)\n                .params(params)\n                .behavior({\n                    onJustificationChanged: (attacher, justification) => {\n                        const params = attacher._params;\n                        const { valid, value } = justification;\n                        attacher.params({ ...params, value }).attach();\n                        this.trigger('justificationchange', { valid, ...value });\n                    }\n                })\n                .node(this.node)\n\n            this.attacher.attach();\n        });\n    }\n});\n"]}