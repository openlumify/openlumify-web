{"version":3,"sources":["../js/cli.js"],"names":["define","globals","name","description","preferenceKey","value","enable","window","console","debug","host","location","replace","require","warn","localStorage","setItem","removeItem","stylesheet","document","querySelector","parentNode","removeChild","createElement","rel","href","head","appendChild","$","trigger","key","obj","code","availableLocales","split","indexOf","parts","reload","error","join","c","highlightComponents","gremlins","createHorde","gremlin","species","formFiller","clicker","clickTypes","canClick","element","is","closest","length","typer","mogwai","mogwais","fps","unleash","nb","forEach","global","getItem","_","isFunction","helpName","help","group","info","sortBy","log","groupEnd"],"mappings":"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","file":"cli.js","sourcesContent":["define([], function() {\n    'use strict';\n\n    var globals = [\n        {\n            name: 'enableLiveReload',\n            description: 'Enable liveReload when `grunt` is running, (persisted)',\n            preferenceKey: 'liveReloadEnabled',\n            value: function(enable) {\n                if ('localStorage' in window) {\n                    if (enable === true || typeof enable === 'undefined') {\n                        console.debug('Enabling LiveReload...')\n                        const host = location.host.replace(/:.*$/, '');\n                        require([`//${host}:35729/livereload.js`], function() {\n                            console.debug('LiveReload successfully enabled');\n                        }, function() {\n                            console.warn(`Failed to enable LiveReload, check that grunt is running and you may also need to update the content security policy:\n                            web.response.header.Content-Security-Policy.script-src.append=https://${host}:35729\n                            web.response.header.Content-Security-Policy.connect-src.append=wss://${host}:35729\n                            `);\n                        });\n                        localStorage.setItem('liveReloadEnabled', true);\n                    } else {\n                        console.debug('Disabling LiveReload')\n                        localStorage.removeItem('liveReloadEnabled');\n                    }\n                }\n            }\n        },\n\n        {\n            name: 'enableHighContrast',\n            description: 'Darken pane backgrounds for poor displays/projectors. (persisted)',\n            preferenceKey: 'highcontrast',\n            value: function(enable) {\n                var stylesheet = document.querySelector('link[href*=openlumify-contrast]');\n                if (!enable && stylesheet) {\n                    stylesheet.parentNode.removeChild(stylesheet);\n                    localStorage.removeItem('highcontrast');\n                }\n\n                if (enable && !stylesheet) {\n                    console.warn('Running high contrast stylesheet. \"enableHighContrast(false)\" to disable');\n                    stylesheet = document.createElement('link');\n                    stylesheet.rel = 'stylesheet';\n                    stylesheet.href = '../css/openlumify-contrast.css';\n                    document.head.appendChild(stylesheet);\n                    localStorage.setItem('highcontrast', true);\n                }\n            }\n        },\n\n        {\n            name: 'enableGraphTracing',\n            description: 'Enable Vertexium graph performance tracing',\n            value: function(enable) {\n                $(document).trigger('setPublicApi', { key: 'graphTraceEnable', obj: enable });\n            }\n        },\n\n        {\n            name: 'switchLanguage',\n            description: 'Switch UI message bundle language: [en,es,de,fr,it,zh_TW] (persisted)',\n            value: function(code) {\n                if (!code) {\n                    code = 'en';\n                }\n                var availableLocales = 'en es de fr it zh_TW'.split(' ');\n\n                if (~availableLocales.indexOf(code)) {\n                    var parts = code.split('_');\n                    if (parts[0]) {\n                        localStorage.setItem('language', parts[0]);\n                    }\n                    if (parts[1]) {\n                        localStorage.setItem('country', parts[1]);\n                    }\n                    if (parts[2]) {\n                        localStorage.setItem('variant', parts[2]);\n                    }\n                    location.reload();\n                } else console.error('Available Locales: ' + availableLocales.join(', '));\n            }\n        },\n\n        {\n            name: 'enableComponentHighlighting',\n            description: 'Enable component highlighting by mouse movement',\n            value: function(enable) {\n                require(['util/flight/componentHighlighter'], function(c) {\n                    c.highlightComponents(enable);\n                });\n            }\n        },\n\n        {\n            name: 'gremlins',\n            description: 'Activate gremlins to stress test ui',\n            value: function() {\n                require(['gremlins'], function(gremlins) {\n                    gremlins.createHorde()\n                    .gremlin(gremlins.species.formFiller())\n                    .gremlin(gremlins.species.clicker())\n                    .gremlin(\n                        gremlins.species.clicker()\n                        .clickTypes(['click'])\n                        .canClick(function(element) {\n                            return $(element).is('button,a,li') &&\n                                $(element).closest('.logout').length === 0;\n                        }))\n                    .gremlin(gremlins.species.typer())\n                    .mogwai(gremlins.mogwais.fps())\n                    .unleash({nb: 1000});\n                })\n            }\n        }\n    ];\n\n    globals.forEach(function(global) {\n        window[global.name] = global.value;\n\n        if ('localStorage' in window) {\n            if (global.preferenceKey &&\n                localStorage.getItem(global.preferenceKey) &&\n               _.isFunction(global.value)) {\n                global.value(true);\n            }\n        }\n    });\n\n    var helpName = 'help';\n    if (typeof window.help !== 'undefined') {\n        helpName = 'openlumifyHelp';\n        console.warn('Unable to create console help, already esists. Using openlumifyHelp');\n    }\n\n    window[helpName] = function() {\n        console.group('OpenLumify Help')\n            console.info('Descriptions of some of the debugging and global state objects');\n            console.group('Global Helper Functions')\n                _.sortBy(globals, 'name').forEach(function(global) {\n                    console.log(global.name + ': ' + global.description);\n                })\n            console.groupEnd();\n            console.group('Global Objects')\n            console.log('openlumifyData: ' + 'Only Shared Global State');\n            console.log('\\t.currentUser: ' + 'Current user object');\n            console.log('\\t.currentWorkspaceId: ' + 'Current workspaceId');\n            console.log('\\t.selectedObjects: ' + 'Current object selection');\n            console.log('\\t\\t.vertices: ' + 'Selected vertices');\n            console.log('\\t\\t.vertexIds: ' + 'Selected vertexIds');\n            console.log('\\t\\t.edges: ' + 'Selected edges');\n            console.log('\\t\\t.edgeIds: ' + 'Selected edgeIds');\n            console.groupEnd();\n        console.groupEnd();\n    }\n})\n"]}