define(['create-react-class','prop-types','configuration/plugins/registry','util/withDataRequest','util/parsers'],function(createReactClass,PropTypes,registry,withDataRequest,P){'use strict';var BooleanSetting=createReactClass({displayName:'BooleanSetting',getInitialState:function getInitialState(){return{disabled:true,value:false};},componentWillMount:function componentWillMount(){var _this=this;if(this.props.setting.uiPreferenceName){this.setState({disabled:false,value:P.bool.parse(openlumifyData.currentUser.uiPreferences[this.props.setting.uiPreferenceName],false)});}else if(this.props.setting.getInitialValue){Promise.resolve(this.props.setting.getInitialValue()).then(function(value){_this.setState({disabled:false,value:P.bool.parse(value)});});}else{console.error('boolean properties require a "uiPreferenceName" or "getInitialValue"');}},handleCheckboxChange:function handleCheckboxChange(evt){var _this2=this;var checked=evt.target.checked;this.setState({disabled:true});this.handleChange(checked).then(function(newValue){_this2.setState({disabled:false,value:P.bool.parse(newValue)});});},handleChange:function handleChange(value){var _this3=this;var onChange=this.props.setting.onChange||Promise.resolve;return onChange(value).then(function(value){if(_this3.props.setting.uiPreferenceName){value=value.toString();return withDataRequest.dataRequest('user','preference',_this3.props.setting.uiPreferenceName,value).then(function(){openlumifyData.currentUser.uiPreferences[_this3.props.setting.uiPreferenceName]=value;return value;});}else{return value;}});},render:function render(){return React.createElement('label',null,React.createElement('div',{className:'display-name'},i18n(this.props.setting.displayName)),React.createElement('input',{type:'checkbox',disabled:this.state.disabled,checked:this.state.value,onChange:this.handleCheckboxChange}));}});return BooleanSetting;});
//# sourceMappingURL=BooleanSetting.js.map
